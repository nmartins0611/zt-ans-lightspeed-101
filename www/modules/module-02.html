<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Untitled :: Terraform &amp; Red Hat Ansible Automation Platform (AAP 2.5)</title>
    <link rel="canonical" href="https://redhat-scholars.github.io/course-template/modules/module-02.html">
    <link rel="prev" href="module-01.html">
    <link rel="next" href="module-03.html">
    <meta name="generator" content="Antora 3.1.10">
    <link rel="stylesheet" href="../_/css/site.css">
<link rel="icon" href="../_/img/favicon.ico" type="image/x-icon">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://demo.redhat.com" target="_blank" style="margin-left: 5%;">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1508.5 178.739" style="width: 278px;"><g fill="#fff"><path d="M316.6 63.2v-56H342a21.279 21.279 0 0 1 7.8 1.3 18.111 18.111 0 0 1 5.9 3.5 15.577 15.577 0 0 1 5 11.8 15.051 15.051 0 0 1-3.1 9.5 16.836 16.836 0 0 1-8.4 5.8l12.5 24.1h-9.3l-11.6-23H325v23Zm24.7-48.6H325v18.7h16.3q5.25 0 8.1-2.7a8.7 8.7 0 0 0 2.8-6.6 8.7 8.7 0 0 0-2.8-6.6c-1.8-1.9-4.5-2.8-8.1-2.8ZM364.1 42.8a20.674 20.674 0 0 1 1.6-8.2 20.288 20.288 0 0 1 4.3-6.7 19.92 19.92 0 0 1 6.5-4.5 19.718 19.718 0 0 1 8-1.6 18.463 18.463 0 0 1 7.8 1.6 18.677 18.677 0 0 1 6.2 4.5 20.927 20.927 0 0 1 4.1 6.8 23.2 23.2 0 0 1 1.5 8.4v2.3H372a13.822 13.822 0 0 0 4.6 8.4 13.6 13.6 0 0 0 9.1 3.3 15.553 15.553 0 0 0 5.7-1 12.858 12.858 0 0 0 4.6-2.6l5.1 5a25.983 25.983 0 0 1-7.4 4.1 24.69 24.69 0 0 1-8.4 1.3 21.306 21.306 0 0 1-8.4-1.6 22.763 22.763 0 0 1-6.8-4.4 20.788 20.788 0 0 1-4.5-6.7 23.2 23.2 0 0 1-1.5-8.4Zm20.2-14.2a11.527 11.527 0 0 0-8 3 13.046 13.046 0 0 0-4.2 7.8h24.2a13.091 13.091 0 0 0-4.2-7.8 11.106 11.106 0 0 0-7.8-3ZM443.1 63.2v-3.8a19.448 19.448 0 0 1-5.8 3.3 18.924 18.924 0 0 1-6.7 1.2 19.824 19.824 0 0 1-14.6-6.1 22.268 22.268 0 0 1-4.4-6.7 21.812 21.812 0 0 1 0-16.4A20.534 20.534 0 0 1 416 28a19.335 19.335 0 0 1 6.6-4.5 20.334 20.334 0 0 1 8.2-1.6 20.7 20.7 0 0 1 6.6 1 19.415 19.415 0 0 1 5.7 3V7.2l8-1.8v57.8Zm-25.2-20.4a13.718 13.718 0 0 0 4 10.1 13.45 13.45 0 0 0 9.8 4.1 14.956 14.956 0 0 0 6.4-1.3 15.954 15.954 0 0 0 4.9-3.6V33.6a14.988 14.988 0 0 0-4.9-3.5 15.271 15.271 0 0 0-6.4-1.3 13.423 13.423 0 0 0-9.9 4 13.806 13.806 0 0 0-3.9 10ZM478.1 63.2v-56h8.4v24h29.8v-24h8.4v56h-8.4V38.8h-29.8v24.4ZM547.2 64a16.483 16.483 0 0 1-10.8-3.5 11.037 11.037 0 0 1-4.2-8.9 10.375 10.375 0 0 1 4.7-9.2 20.76 20.76 0 0 1 11.8-3.2 27.841 27.841 0 0 1 5.8.6 27.374 27.374 0 0 1 5.3 1.6v-4.3a8.143 8.143 0 0 0-2.6-6.5 11.452 11.452 0 0 0-7.4-2.2 20.788 20.788 0 0 0-6 .9 34.616 34.616 0 0 0-6.6 2.6l-3-6a54.169 54.169 0 0 1 8.4-3.1 33.18 33.18 0 0 1 8.3-1.1c5.2 0 9.3 1.3 12.2 3.8s4.4 6.1 4.4 10.8v27h-7.8v-3.5a19.441 19.441 0 0 1-5.8 3.2 23.54 23.54 0 0 1-6.7 1Zm-7.3-12.6a5.646 5.646 0 0 0 2.6 4.8 11.193 11.193 0 0 0 6.6 1.8 16.256 16.256 0 0 0 5.9-1 14.449 14.449 0 0 0 4.9-2.9V47a19.778 19.778 0 0 0-4.8-1.8 24.933 24.933 0 0 0-5.7-.6 11.859 11.859 0 0 0-6.8 1.8 5.728 5.728 0 0 0-2.7 5ZM580.6 53.2v-24H572v-6.7h8.6V12.1l7.9-1.9v12.3h12v6.7h-12v22.1a5.94 5.94 0 0 0 1.4 4.4c.9.9 2.5 1.3 4.6 1.3a23.637 23.637 0 0 0 3-.2 10.857 10.857 0 0 0 2.8-.8v6.7a19.28 19.28 0 0 1-3.8.9 27.484 27.484 0 0 1-3.8.3c-3.9 0-7-.9-9-2.8-2-1.7-3.1-4.4-3.1-7.9Z"></path></g><path d="M127 90.2c12.5 0 30.6-2.6 30.6-17.5a12.678 12.678 0 0 0-.3-3.4L149.8 37c-1.7-7.1-3.2-10.3-15.7-16.6-9.7-5-30.8-13.1-37.1-13.1-5.8 0-7.5 7.5-14.4 7.5-6.7 0-11.6-5.6-17.9-5.6-6 0-9.9 4.1-12.9 12.5 0 0-8.4 23.7-9.5 27.2a4.216 4.216 0 0 0-.3 1.9c0 9.2 36.3 39.4 85 39.4Zm32.5-11.4c1.7 8.2 1.7 9.1 1.7 10.1 0 14-15.7 21.8-36.4 21.8-46.8 0-87.7-27.4-87.7-45.5a17.535 17.535 0 0 1 1.5-7.3C21.8 58.8 0 61.8 0 81c0 31.5 74.6 70.3 133.7 70.3 45.3 0 56.7-20.5 56.7-36.6-.1-12.8-11-27.3-30.9-35.9Z" fill="#e00"></path><path d="M159.5 78.8c1.7 8.2 1.7 9.1 1.7 10.1 0 14-15.7 21.8-36.4 21.8-46.8 0-87.7-27.4-87.7-45.5a17.535 17.535 0 0 1 1.5-7.3l3.7-9.1a4.877 4.877 0 0 0-.3 2c0 9.2 36.3 39.4 85 39.4 12.5 0 30.6-2.6 30.6-17.5a12.678 12.678 0 0 0-.3-3.4Z"></path><path d="M253.5 158.7a2.22 2.22 0 0 1-2.2-2.2V2.2a2.2 2.2 0 0 1 4.4 0v154.2a2.242 2.242 0 0 1-2.2 2.3Z" fill="#fff"></path><text data-name="Demo Platform" transform="translate(1186 149)" fill="#fff" font-size="82" font-family="'RedHatDisplay', 'Overpass', overpass, helvetica, arial, sans-serif" font-weight="700"><tspan x="-877.892" y="0">Demo Platform</tspan></text></svg>
      </a>
      <a class="navbar-item site-title" target="__blank" style="color: #fff !important;" href="https://redhat-scholars.github.io/course-template">Terraform &amp; Red Hat Ansible Automation Platform (AAP 2.5)</a>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <div class="navbar-item navbar-item-right-dropdown has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Links</a>
          <div class="navbar-dropdown navbar-dropdown-right">
            <a class="navbar-item navbar-item-right-content" href="https://redhat.com" target="_blank">Red Hat</a>
          </div>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="modules" data-version="master">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="index.html" class=" query-params-link">Exercises</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="module-01.html">1. Terraform and Ansible Automation Platform 2.5</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="module-01.html#task1">☑️ Task 1 - Configure the Terraform Backend Credential in Ansible Automation Platform</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="module-01.html#task2">☑️ Task 2 - Terraform Inventory</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="module-01.html#task3">☑️ Task 3 - Create a Job Template to kick off a Terraform project (Terraform provider for AWS</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="module-01.html#task4">☑️ Task 4 - Create a Job Template to kick off a Terraform project (Terraform provider for AWS &amp; Terraform Provider for ANSIBLE Automation Platform (AAP)</a>
  </li>
</ul>
  </li>
  <li class="nav-item is-current-page" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="module-02.html">2. Create a Terraform-enabled Execution Environment</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#task1">☑️ Task 1 - Create the configuration files for the execution environment</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#task2">☑️ Task 2 - Run ansible-builder</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#task3">☑️ Task 3 - Add the Terraform Execution Environment to Ansible Automation Platform</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="module-03.html">3. OPTIONAL - Terraform Basics</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="module-03.html#task1">☑️ Task 1 - Initialize a Terraform Project</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="module-03.html#task2">☑️ Task 2 - Plan and Apply the Terraform Project</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="module-03.html#task3">☑️ Task 3 - Make Changes to the Terraform Project</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="module-03.html#task4">☑️ Task 4 - Deprovisioning resources of a Terraform Project</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="module-04.html">4. OPTIONAL - Terraform and the Certified Collection for Terraform</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="module-04.html#task1">☑️ Task 1 - Install the Red Hat certified collection for Terraform (cloud.terraform)</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="module-04.html#task2">☑️ Task 2 - Terraform Provider for Ansible <strong>(OPTIONAL)</strong></a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="module-04.html#task3">☑️ Task 3 - The Terraform Provider for Ansible Automation Platform</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
  </div>
  <ul class="components">
    <li class="component is-current">
      <span class="title">Exercises</span>
      <ul class="versions">
        <li class="version is-current">
          <a href="index.html">master</a>
        </li>
      </ul>
    </li>
  </ul>
</div>    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="index.html">Exercises</a></li>
    <li><a href="module-02.html">2. Create a Terraform-enabled Execution Environment</a></li>
  </ul>
</nav>
</div>
  <div class="content">
<article class="doc">
<div id="preamble">
<div class="sectionbody">
<hr>
<div class="paragraph">
<p>Create a Terraform-enabled Execution Environment teaser: In this challenge you will create an Execution Environment that will enable   Terraform usage in Ansible Automation Platform notes:</p>
</div>
</div>
</div>
<h1 id="_create_a_terraform_enabled_execution_environment" class="sect0"><a class="anchor" href="#_create_a_terraform_enabled_execution_environment"></a>Create a Terraform-enabled Execution Environment</h1>
<div class="sect1">
<h2 id="_what_is_an_execution_environment"><a class="anchor" href="#_what_is_an_execution_environment"></a>What is an Execution Environment?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>All automation in Red Hat Ansible Automation Platform runs on container images called automation execution environments.
Automation execution environments create a common language for communicating automation dependencies, and offer a standard way to build and distribute the automation environment.</p>
</div>
<div class="paragraph">
<p>In the previous challenge an Execution Environment called <code>Terraform Execution Environment</code> was already created for you.</p>
</div>
<div class="paragraph">
<p><strong>To use Terraform in YOUR Ansible Automation Platform environment you must create and Execution Environment</strong> that includes the Cloud Terraform collection, the Terraform binary, other cloud collections, and other dependencies.
<strong>Hence, why you will learn how to create an Execution Environment.</strong></p>
</div>
<div class="paragraph">
<p>The tool needed to create an <code>execution environment</code> is called <code>ansible-builder</code></p>
</div>
<div class="paragraph">
<p>👋 Challenge introduction.</p>
</div>
<div class="paragraph">
<p>Estimated time to complete: <em>30 minutes</em></p>
</div>
<div class="ulist">
<ul>
<li>
<p>In this challenge you will learn</p>
<div class="ulist">
<ul>
<li>
<p>How to create the necessary configuration files needed to create an execution environment</p>
</li>
<li>
<p>How to create the execution environment container image using the <code>ansbile-builder</code> tool</p>
</li>
<li>
<p>How to add the new execution environment to Ansible Automation Platform</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_execution_environments"><a class="anchor" href="#_execution_environments"></a>Execution Environments</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong><em>To run Terraform commands from within Ansible Automation Platform, you will need to create an execution environment that contains the Terraform binary and the Red Hat certified collection for Terraform.
This is easy to do using <a href="https://docs.redhat.com/en/documentation/red_hat_ansible_automation_platform/latest/html/creating_and_using_execution_environments/assembly-using-builder">ansible-builder</a>.</em></strong></p>
</div>
<div class="paragraph">
<p>In this challenge you will create an execution environment containing everything you need to run Terraform from the Ansible Automation Platform.</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p><code>[NOTE]</code> You can perform the following steps at the TERMINAL, or in Visual Studio Code (VSCode).
In VSCode you can open a terminal prompt.
Choose either the <code>TERMINAL</code> tab, or the <code>VSCODE</code> tab from the top of the lab screen.
We will walk through the steps using the <code>TERMINAL</code> but please feel free to do this in the <code>VSCODE</code> tab if you are more comfortable there!</p>
</div>
</blockquote>
</div>
</div>
</div>
<h1 id="task1" class="sect0"><a class="anchor" href="#task1"></a>☑️ Task 1 - Create the configuration files for the execution environment</h1>
<div class="openblock partintro">
<div class="content">
<div class="paragraph">
<p>To create an execution environment with <code>ansible-builder</code>, we need an execution environment definition file.
The file name will be <code>execution-environment.yml</code></p>
</div>
<div class="paragraph">
<p>Go to the <code>TERMINAL</code>  tab at the top of the lab to open the terminal prompt.
You will be in the <code>/home/rhel</code> folder</p>
</div>
<div class="paragraph">
<p>Change to the folder named <code>/home/rhel/terraform-ee</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre>cd /home/rhel/terraform-ee</pre>
</div>
</div>
<div class="paragraph">
<p>Two empty file already exist in this folder,  <code>execution-environment.yml</code> and <code>requirements.yml</code> files.</p>
</div>
<div class="paragraph">
<p>Modify the <code>execution-environment.yml</code> file and paste into it the following contents: Use <code>vi</code> or <code>vim</code> or <code>nano</code> to modify the <code>execution-environment.yml</code> file.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>vim execution-environment.yml</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>---
version: 3

images:
  base_image:
    name: registry.redhat.io/ansible-automation-platform-25/ee-minimal-rhel8:latest

dependencies:
  galaxy: requirements.yml

options:
  package_manager_path: /usr/bin/microdnf

additional_build_steps:
  prepend_base:
    - RUN $PYCMD -m pip install --upgrade pip setuptools
  append_base:
    - RUN curl "https://releases.hashicorp.com/terraform/1.12.2/terraform_1.12.2_linux_amd64.zip" -o "/terraform.zip"
    - RUN unzip /terraform.zip -d /terraform
    - RUN mv /terraform/terraform /bin</pre>
</div>
</div>
<div class="paragraph">
<p>This file defines the rules <code>ansible-builder</code> should use to create the execution environment container, including:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><code>version</code>: the version of ansible-builder to use</p>
</li>
<li>
<p><code>images</code>: here you define the base image to use for the container.
<strong><em>You are using the  <code>ee-minimal-rhel8:latest</code> base image for the build process</em></strong></p>
</li>
<li>
<p><code>dependencies</code>: in this section you can declare dependencies for optionally galaxy (ansible collections), python, and other system dependencies.
Notice this section includes a statement <code>galaxy: requirements.yml</code>, this is the file used to define dependent collections found on Ansible Galaxy to be included within the Execution Environment being built</p>
</li>
<li>
<p><code>additional_build_steps</code>: here we can list commands to be inserted into the Dockerfile/Containerfile to be executed.
In this example, we are downloading and installing Terraform because the Terraform binary is needed for Ansible Automation Platform for playbook execution, specifically playbooks that trigger Terraform.
<code>prepend_base</code> is to include commands to be used <code>before</code> the main build steps.
<code>append_base</code> is to include commands to be used <code>after</code> the main build steps.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Modify the file called <code>requirements.yml</code> and paste the following contents: Use <code>vi</code> or <code>nano</code> to modify the <code>requirements.yml</code> file.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>vim requirements.yml</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>---
collections:
  - name: amazon.aws
  - name: cloud.terraform
  - name: google.cloud</pre>
</div>
</div>
<div class="paragraph">
<p>This file defines the Ansible content collections you want to include in your execution environment.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Include the <code>amazon.aws</code>, <code>cloud.terraform</code>, and <code>google.cloud</code> collections</p>
</li>
<li>
<p>This will allow Ansible playbooks to perform automation on cloud infrastructure on AWS and GCP using Terraform and Ansible Automation Platform</p>
</li>
<li>
<p>If  additional collections are desired, one would include them in the <code>requirements.yml</code> file as well</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Please move ahead to the next task.</p>
</div>
</div>
</div>
<h1 id="task2" class="sect0"><a class="anchor" href="#task2"></a>☑️ Task 2 - Run ansible-builder</h1>
<div class="openblock partintro">
<div class="content">
<div class="paragraph">
<p>Run <code>ansible-builder</code> to build the execution environment container.</p>
</div>
<div class="paragraph">
<p>From the terminal prompt run the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>ansible-builder build -v 3 --tag terraform-ee</pre>
</div>
</div>
<div class="paragraph">
<p>This will build the container image tagged with <code>terraform-ee</code>.
This will take a few minutes, and you should see output similar to the following: <span class="image"><img src="https://github.com/HichamMourad/terraform-aap/blob/main/images/eesuccess.png?raw=true" alt="eesuccess"></span></p>
</div>
<div class="paragraph">
<p>To see the newly created image run the following command.
This image was built locally.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>podman images</pre>
</div>
</div>
<div class="paragraph">
<p>At this point, you would typically push the container image to a registry such as <code>Quay</code> or <code>Dockerhub</code> or your own <code>Private Automation Hub</code>.
If you have a Quay or Dockerhub account already, feel free to create a repository, push the image as you normally would, and use it in the following steps, <strong><em>otherwise we have a pre-existing image you can pull.</em></strong></p>
</div>
<div class="paragraph">
<p><strong><em>Example commands</em></strong> on how to tag and then push the Execution Environment image to Quay.io</p>
</div>
<div class="paragraph">
<p><code>podman tag localhost/terraform-ee  quay.io/[username]/terraform-ee</code></p>
</div>
<div class="paragraph">
<p><code>podman login --username [username] --password [mypassowrd] quay.io</code></p>
</div>
<div class="paragraph">
<p><code>podman push quay.io/[username]/terraform-ee</code></p>
</div>
</div>
</div>
<h1 id="task3" class="sect0"><a class="anchor" href="#task3"></a>☑️ Task 3 - Add the Terraform Execution Environment to Ansible Automation Platform</h1>
<div class="openblock partintro">
<div class="content">
<div class="paragraph">
<p>Now you will add an execution environment to Ansible Automation Platform.</p>
</div>
<div class="paragraph">
<p>Click on the <code>Ansible Automation Platform</code> tab at the top of lab.
(if not already)</p>
</div>
<div class="paragraph">
<p>Log in using the following credentials: <em>Login credentials:</em> <code>User:  admin</code> <code>Password:  ansible123!</code></p>
</div>
<div class="paragraph">
<p>Expand the <code>Automation Execution</code> menu on the left.</p>
</div>
<div class="paragraph">
<p>Navigate to  <code>Automation Execution</code> -&gt; <code>Infrastructure</code> -&gt;<code> Execution Environments</code>.</p>
</div>
<div class="paragraph">
<p>Click on <code>+ Create execution environment</code> and enter the following information.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Field</th>
<th class="tableblock halign-left valign-top">Value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">myTerraform EE</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Image</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">quay.io/acme_corp/terraform_ee</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pull</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Only pull the image if not present before running</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Registry credential</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Quay Registry Credential</p></td>
</tr>
</tbody>
</table>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p><code>[NOTE]</code> <strong>Since this image on Quay.io is public you don&#8217;t need to create a Registry credential</strong></p>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Click on <code>Create execution environment</code> to save this new Execution Environmnet.
Yes, Yes, we&#8217;re using the same image we already have, but remember, this is just to demnstrate how you would add your own created Execution Environment to Ansible Automation Platform.
<span class="image"><img src="https://github.com/HichamMourad/terraform-aap/blob/main/images/create-ee.png?raw=true" alt="create ee"></span></p>
</div>
<div class="paragraph">
<p>This Execution Environment is now available for use in Ansible Automation Platform.</p>
</div>
</div>
</div>
<nav class="pagination">
  <span class="prev"><a href="module-01.html" class="query-params-link">1. Terraform and Ansible Automation Platform 2.5</a></span>
  <span class="next"><a href="module-03.html" class="query-params-link">3. OPTIONAL - Terraform Basics</a></span>
</nav>
</article>
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>  </div>
</main>
</div>
<footer class="footer">
  <a href="https://demo.redhat.com" target="_blank" class="poweredBy"><p>Powered by</p><div class="labInfo_poweredBy" style="display: block; width: 260px;"><svg class="labInfo_poweredByLogo" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1508.5 178.739"><g fill="#111"><path d="M316.6 63.2v-56H342a21.279 21.279 0 0 1 7.8 1.3 18.111 18.111 0 0 1 5.9 3.5 15.577 15.577 0 0 1 5 11.8 15.051 15.051 0 0 1-3.1 9.5 16.836 16.836 0 0 1-8.4 5.8l12.5 24.1h-9.3l-11.6-23H325v23Zm24.7-48.6H325v18.7h16.3q5.25 0 8.1-2.7a8.7 8.7 0 0 0 2.8-6.6 8.7 8.7 0 0 0-2.8-6.6c-1.8-1.9-4.5-2.8-8.1-2.8ZM364.1 42.8a20.674 20.674 0 0 1 1.6-8.2 20.288 20.288 0 0 1 4.3-6.7 19.92 19.92 0 0 1 6.5-4.5 19.718 19.718 0 0 1 8-1.6 18.463 18.463 0 0 1 7.8 1.6 18.677 18.677 0 0 1 6.2 4.5 20.927 20.927 0 0 1 4.1 6.8 23.2 23.2 0 0 1 1.5 8.4v2.3H372a13.822 13.822 0 0 0 4.6 8.4 13.6 13.6 0 0 0 9.1 3.3 15.553 15.553 0 0 0 5.7-1 12.858 12.858 0 0 0 4.6-2.6l5.1 5a25.983 25.983 0 0 1-7.4 4.1 24.69 24.69 0 0 1-8.4 1.3 21.306 21.306 0 0 1-8.4-1.6 22.763 22.763 0 0 1-6.8-4.4 20.788 20.788 0 0 1-4.5-6.7 23.2 23.2 0 0 1-1.5-8.4Zm20.2-14.2a11.527 11.527 0 0 0-8 3 13.046 13.046 0 0 0-4.2 7.8h24.2a13.091 13.091 0 0 0-4.2-7.8 11.106 11.106 0 0 0-7.8-3ZM443.1 63.2v-3.8a19.448 19.448 0 0 1-5.8 3.3 18.924 18.924 0 0 1-6.7 1.2 19.824 19.824 0 0 1-14.6-6.1 22.268 22.268 0 0 1-4.4-6.7 21.812 21.812 0 0 1 0-16.4A20.534 20.534 0 0 1 416 28a19.335 19.335 0 0 1 6.6-4.5 20.334 20.334 0 0 1 8.2-1.6 20.7 20.7 0 0 1 6.6 1 19.415 19.415 0 0 1 5.7 3V7.2l8-1.8v57.8Zm-25.2-20.4a13.718 13.718 0 0 0 4 10.1 13.45 13.45 0 0 0 9.8 4.1 14.956 14.956 0 0 0 6.4-1.3 15.954 15.954 0 0 0 4.9-3.6V33.6a14.988 14.988 0 0 0-4.9-3.5 15.271 15.271 0 0 0-6.4-1.3 13.423 13.423 0 0 0-9.9 4 13.806 13.806 0 0 0-3.9 10ZM478.1 63.2v-56h8.4v24h29.8v-24h8.4v56h-8.4V38.8h-29.8v24.4ZM547.2 64a16.483 16.483 0 0 1-10.8-3.5 11.037 11.037 0 0 1-4.2-8.9 10.375 10.375 0 0 1 4.7-9.2 20.76 20.76 0 0 1 11.8-3.2 27.841 27.841 0 0 1 5.8.6 27.374 27.374 0 0 1 5.3 1.6v-4.3a8.143 8.143 0 0 0-2.6-6.5 11.452 11.452 0 0 0-7.4-2.2 20.788 20.788 0 0 0-6 .9 34.616 34.616 0 0 0-6.6 2.6l-3-6a54.169 54.169 0 0 1 8.4-3.1 33.18 33.18 0 0 1 8.3-1.1c5.2 0 9.3 1.3 12.2 3.8s4.4 6.1 4.4 10.8v27h-7.8v-3.5a19.441 19.441 0 0 1-5.8 3.2 23.54 23.54 0 0 1-6.7 1Zm-7.3-12.6a5.646 5.646 0 0 0 2.6 4.8 11.193 11.193 0 0 0 6.6 1.8 16.256 16.256 0 0 0 5.9-1 14.449 14.449 0 0 0 4.9-2.9V47a19.778 19.778 0 0 0-4.8-1.8 24.933 24.933 0 0 0-5.7-.6 11.859 11.859 0 0 0-6.8 1.8 5.728 5.728 0 0 0-2.7 5ZM580.6 53.2v-24H572v-6.7h8.6V12.1l7.9-1.9v12.3h12v6.7h-12v22.1a5.94 5.94 0 0 0 1.4 4.4c.9.9 2.5 1.3 4.6 1.3a23.637 23.637 0 0 0 3-.2 10.857 10.857 0 0 0 2.8-.8v6.7a19.28 19.28 0 0 1-3.8.9 27.484 27.484 0 0 1-3.8.3c-3.9 0-7-.9-9-2.8-2-1.7-3.1-4.4-3.1-7.9Z"></path></g><path d="M127 90.2c12.5 0 30.6-2.6 30.6-17.5a12.678 12.678 0 0 0-.3-3.4L149.8 37c-1.7-7.1-3.2-10.3-15.7-16.6-9.7-5-30.8-13.1-37.1-13.1-5.8 0-7.5 7.5-14.4 7.5-6.7 0-11.6-5.6-17.9-5.6-6 0-9.9 4.1-12.9 12.5 0 0-8.4 23.7-9.5 27.2a4.216 4.216 0 0 0-.3 1.9c0 9.2 36.3 39.4 85 39.4Zm32.5-11.4c1.7 8.2 1.7 9.1 1.7 10.1 0 14-15.7 21.8-36.4 21.8-46.8 0-87.7-27.4-87.7-45.5a17.535 17.535 0 0 1 1.5-7.3C21.8 58.8 0 61.8 0 81c0 31.5 74.6 70.3 133.7 70.3 45.3 0 56.7-20.5 56.7-36.6-.1-12.8-11-27.3-30.9-35.9Z" fill="#e00"></path><path d="M159.5 78.8c1.7 8.2 1.7 9.1 1.7 10.1 0 14-15.7 21.8-36.4 21.8-46.8 0-87.7-27.4-87.7-45.5a17.535 17.535 0 0 1 1.5-7.3l3.7-9.1a4.877 4.877 0 0 0-.3 2c0 9.2 36.3 39.4 85 39.4 12.5 0 30.6-2.6 30.6-17.5a12.678 12.678 0 0 0-.3-3.4Z"></path><path d="M253.5 158.7a2.22 2.22 0 0 1-2.2-2.2V2.2a2.2 2.2 0 0 1 4.4 0v154.2a2.242 2.242 0 0 1-2.2 2.3Z" fill="#111"></path><text data-name="Demo Platform" transform="translate(1186 149)" fill="#111" font-size="82" font-family="'RedHatDisplay', 'Overpass', overpass, helvetica, arial, sans-serif" font-weight="700"><tspan x="-877.892" y="0">Demo Platform</tspan></text></svg></div></div>
</footer>
<script src="../_/js/vendor/clipboard.js"></script>
<script src="../_/js/site.js"></script>
<script async src="../_/js/vendor/highlight.js"></script>
  </body>
</html>
